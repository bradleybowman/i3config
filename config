# Version for use on chromebook/laptop using GalliumOS
# with xfce4, with i3 acting as the WM

# Set mod to ALT key (Chromebook has no Super Key)
set $mod mod1

# Set font with pango
font pango:Liberation Mono 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

## Define the 'movement' keys

#This is setup for QWERTY keyboards, mimics single row arrow keys
set $up l
set $down k
set $left j
set $right semicolon

# Workspace switching is handled via $mod+number
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# $mod + Shift + number will move the focused window to the specified workspace
bindsym $mod+Shift+1 move container to workspace 1; workspace 1
bindsym $mod+Shift+2 move container to workspace 2; workspace 2
bindsym $mod+Shift+3 move container to workspace 3; workspace 3
bindsym $mod+Shift+4 move container to workspace 4; workspace 4
bindsym $mod+Shift+5 move container to workspace 5; workspace 5
bindsym $mod+Shift+6 move container to workspace 6; workspace 6
bindsym $mod+Shift+7 move container to workspace 7; workspace 7
bindsym $mod+Shift+8 move container to workspace 8; workspace 8
bindsym $mod+Shift+9 move container to workspace 9; workspace 9
bindsym $mod+Shift+0 move container to workspace 10; workspace 10

# Start a terminal shortcut
bindsym $mod+Return exec xfce4-terminal

# Start a file explorer
bindsym $mod+Shift+Return exec thunar

# kill focused window
bindsym $mod+Shift+q kill

# Launch dmenu
bindsym $mod+Shift+p exec --no-startup-id j4-dmenu-desktop --dmenu="dmenu -i -nb '#191919' -nf '#fea63c' -sb '#fea63c' -sf '#191919' -fn 'LiberationMonoRegular:bold:pixelsize=10.5'"
# Launch gmrun (runs commands)
bindsym $mod+Shift+g exec --no-startup-id gmrun
# Launch rofi
bindsym $mod+Shift+d exec --no-startup-id rofi -show run -sidebar-mode -font "Liberation Mono 10"

###############################################################################

# Change focus right home row (defined earlier)
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Change focus using arrow keys
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move the focused window with Shift + direction.  Defines the right home
# row as well as the arrow keys for this function also
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Moving between workspaces using familiar ALT + Tab
# ALT + Tab = next, ALT + Shift + Tab = previous
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

# CTRL + ALT + arrow keys, for left/right workspace switching
bindsym $mod+Ctrl+Right workspace next
bindsym $mod+Ctrl+Left workspace prev

# Automatic switching to a workspace where a window has declared 'urgent'
# status
for_window [urgent=latest] focus

###############################################################################

# Default tiling parameters and movement; some of this is mitigated by
# the use of autotiling extension

# Default orientation for new workspaces is horizontal
default_orientation horizontal

# Split horizontally
bindsym $mod+h split h

# Split vertically
bindsym $mod+v split v

# Fullscreen the focused tile
bindsym $mod+f fullscreen toggle

# Another fullscreen bind -- the familiar CTRL + ALT + Enter
bindsym $mod+Control+Return fullscreen toggle

# Change the focus between tiled/floating windows
bindsym $mod+space focus mode_toggle

# Font for window titles; using Liberation family for consistency
font pango:Liberation Mono Regular 10

###############################################################################

# In-place restart of i3wm, preserves open windows
bindsym $mod+Shift+r restart

# Reload the i3/config configuration file
bindsym $mod+Shift+c reload

# Change logout to use XFCE4 logout session screen
bindsym $mod+Shift+e exec xfce4-session-logout

###############################################################################

# Staring applications at boot

# Nitrogen is similar to fehbg
exec --no-startup-id nitrogen --restore

# Autotiling-Git
exec_always --no-startup-id autotiling

# From GalliumOS Wiki
    set $mode_system System (l) lock, (e) logout, (s) suspend, (r) reboot, (Shift+s) shutdown
    mode "$mode_system" {
         bindsym l exec --no-startup-id xscreensaver-command -lock, mode "default"
         bindsym e exec --no-startup-id i3-msg exit, mode "default"
         bindsym s exec --no-startup-id gksu pm-suspend, mode "default"
         bindsym r exec --no-startup-id reboot, mode "default"
         bindsym Shift+s exec --no-startup-id /sbin/poweroff, mode "default"

         # back to normal: Enter or Escape
         bindsym Return mode "default"
         bindsym Escape mode "default"
    }

    # Volume buttons and GalliumOS/XFCE4 features
    bindsym XF86PowerOff mode "$mode_system"
    bindsym F8 exec amixer -q -D pulse sset Master toggle
    bindsym F9 exec amixer -q -D pulse sset Master 5%- on
    bindsym F10 exec amixer -q -D pulse sset Master 5%+ on
    exec_always --no-startup-id xscreensaver-command -exit &
    exec_always --no-startup-id xscreensaver -no-splash &
    exec_always --no-startup-id xss-lock -- i3lock &
